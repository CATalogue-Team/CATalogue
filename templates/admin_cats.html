
{% extends "base.html" %}

{% block content %}
<h2>猫咪管理</h2>
<a href="{{ url_for('upload') }}" class="btn">添加新猫咪</a>
<div class="cats-list">
    {% for cat in cats %}
    <div class="cat-card">
        {% if cat.image %}
        <img src="{{ url_for('static', filename='uploads/' + cat.image) }}" alt="{{ cat.name }}">
        {% endif %}
        <h3>{{ cat.name }}</h3>
        <p>{{ cat.description|truncate(100) }}</p>
        <div class="btn-group">
            <a href="{{ url_for('cat_detail', cat_id=cat.id) }}" 
               class="btn btn-sm btn-outline-primary">查看</a>
            <a href="{{ url_for('edit_cat', cat_id=cat.id) }}" 
               class="btn btn-sm btn-outline-secondary">编辑</a>
            <form action="{{ url_for('delete_cat', cat_id=cat.id) }}" method="POST" style="display:inline;">
                <button type="submit" class="btn btn-sm btn-outline-danger" 
                        onclick="return confirm('确定要删除这只猫咪吗？')">删除</button>
            </form>
        </div>
    </div>
    {% endfor %}
</div>
{% endblock %}
